<!DOCTYPE HTML>
<html>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <head>
        <title>Sound</title>

        <script>


            window.onload = function () {
                Notification.requestPermission(function () {
                    if (Notification.permission === 'granted') {
                        // user approved.
                        // use of new Notification(...) syntax will now be successful
                    } else if (Notification.permission === 'denied') {
                        // user denied.
                    } else { // Notification.permission === 'default'
                        // user didn’t make a decision.
                        // You can’t send notifications until they grant permission.
                    }
                });

                var button = document.getElementById('trigger');
                var sound = document.getElementById('beep');


                button.addEventListener('click', function () {
                    var alert = new Notification('Hello', {body: 'Hello, world!', icon: 'http://web.acd.ccac.edu/~cgalluzzo/favicon.ico'});
                    
                    setTimeout(alert.close.bind(alert), 4000);
                    
                    var alert = setInterval(function () {sound.play(); }, 2000);
                    clearInterval(sound, 6000);


                    //document.getElementById('beep').play();

                });



            };

        </script>
    </head>

    <body>
        <!--https://laimages.s3.amazonaws.com/data/libchat/chat_beep.mp3 -->
        <audio id="beep" preload="auto" src="chat_beep.mp3"></audio>
        <button id="trigger">Alert me</button>
    </body>
</html>
